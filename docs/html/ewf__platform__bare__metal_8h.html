<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded Wireless Framework: G:/src/ewf_platform_bare_metal.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Embedded Wireless Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">ewf_platform_bare_metal.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Embedded Wireless Framework bare metal platform.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ewf__platform_8h_source.html">ewf_platform.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="ewf__platform__bare__metal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ewf__platform__queue.html">_ewf_platform_queue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The platform queue structure.  <a href="struct__ewf__platform__queue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1947843136a63a09ef4b7bc949e06c61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ewf__platform__bare__metal_8h.html#a1947843136a63a09ef4b7bc949e06c61">EWF_PLATFORM_TICKS_PER_SECOND</a>&#160;&#160;&#160;(1000)</td></tr>
<tr class="separator:a1947843136a63a09ef4b7bc949e06c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0908654dd710db3108ca51cc93065d20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ewf__platform__bare__metal_8h.html#a0908654dd710db3108ca51cc93065d20">EWF_PLATFORM_BUSY_WAIT</a>(count)</td></tr>
<tr class="memdesc:a0908654dd710db3108ca51cc93065d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default platform busy wait macro.  <a href="ewf__platform__bare__metal_8h.html#a0908654dd710db3108ca51cc93065d20">More...</a><br /></td></tr>
<tr class="separator:a0908654dd710db3108ca51cc93065d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6292c1190cb6fd63bcec0d9c50e24a29"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ewf__platform__bare__metal_8h.html#a6292c1190cb6fd63bcec0d9c50e24a29">EWF_PLATFORM_QUEUE_STATIC_DECLARE</a>(queue_ptr,  queue_name_symb,  item_type,  item_count)</td></tr>
<tr class="memdesc:a6292c1190cb6fd63bcec0d9c50e24a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare statically a queue for the platform and initialize its data.  <a href="ewf__platform__bare__metal_8h.html#a6292c1190cb6fd63bcec0d9c50e24a29">More...</a><br /></td></tr>
<tr class="separator:a6292c1190cb6fd63bcec0d9c50e24a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Embedded Wireless Framework bare metal platform. </p>
<dl class="section version"><dt>Version</dt><dd>Preview </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) Microsoft Corporation. All rights reserved. SPDX-License-Identifier: MIT </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0908654dd710db3108ca51cc93065d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0908654dd710db3108ca51cc93065d20">&#9670;&nbsp;</a></span>EWF_PLATFORM_BUSY_WAIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EWF_PLATFORM_BUSY_WAIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">count</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                        \</div>
<div class="line">    static <span class="keyword">volatile</span> uint32_t i, j, x;       \</div>
<div class="line">    for (i = 0, x = 0; i &lt; count; i++)      \</div>
<div class="line">        <span class="keywordflow">for</span> (j = 0; j &lt; 1024; j++)          \</div>
<div class="line">            x += i + j;                     \</div>
<div class="line">} <span class="keywordflow">while</span>(0)</div>
</div><!-- fragment -->
<p>The default platform busy wait macro. </p>
<p>This default implementation is not time accurate and very wasteful (power hungry, bus hungry). Override it with an implementation valid for your system, ideally sleeping the CPU for the requested number of ticks. </p>

</div>
</div>
<a id="a6292c1190cb6fd63bcec0d9c50e24a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6292c1190cb6fd63bcec0d9c50e24a29">&#9670;&nbsp;</a></span>EWF_PLATFORM_QUEUE_STATIC_DECLARE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EWF_PLATFORM_QUEUE_STATIC_DECLARE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">queue_ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">queue_name_symb, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">item_type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">item_count&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                                                                                            \</div>
<div class="line">static uint8_t ewf_platform_queue__buffer__##queue_name_symb[<span class="keyword">sizeof</span>(item_type) * item_count];                                   \</div>
<div class="line">static <a class="code" href="struct__ewf__platform__queue.html">ewf_platform_queue</a> ewf_platform_queue__##queue_name_symb = {0};                                                          \</div>
<div class="line">ewf_platform_queue__##queue_name_symb.data = ewf_platform_queue__buffer__##queue_name_symb;                                     \</div>
<div class="line">ewf_platform_queue__##queue_name_symb.item_size = <span class="keyword">sizeof</span>(item_type);                                                            \</div>
<div class="line">ewf_platform_queue__##queue_name_symb.queue_size = item_count;                                                                  \</div>
<div class="line">ewf_platform_queue__##queue_name_symb.tail_index = 0;                                                                           \</div>
<div class="line">ewf_platform_queue__##queue_name_symb.used_count = 0;                                                                           \</div>
<div class="line">queue_ptr = &amp;(ewf_platform_queue__##queue_name_symb);                                                                           \</div>
<div class="line">} <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="astruct__ewf__platform__queue_html"><div class="ttname"><a href="struct__ewf__platform__queue.html">_ewf_platform_queue</a></div><div class="ttdoc">The platform queue structure.</div><div class="ttdef"><b>Definition:</b> ewf_platform_bare_metal.h:74</div></div>
</div><!-- fragment -->
<p>Declare statically a queue for the platform and initialize its data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">queue_ptr</td><td>a pointer to a <a class="el" href="struct__ewf__platform__queue.html" title="The platform queue structure.">_ewf_platform_queue</a> structure that will be made to point to the statically declared queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">queue_name_symb</td><td>a symbol that will be used to uniquely declare and name the queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">item_type</td><td>type queue item type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">item_count</td><td>the maximum number item the queue can contain </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1947843136a63a09ef4b7bc949e06c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1947843136a63a09ef4b7bc949e06c61">&#9670;&nbsp;</a></span>EWF_PLATFORM_TICKS_PER_SECOND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EWF_PLATFORM_TICKS_PER_SECOND&#160;&#160;&#160;(1000)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define the number of ticks per second in the platform; this is used to calculate absolute times. This default value is only a recommendation, override with the right value for your system. <br  />
 </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
